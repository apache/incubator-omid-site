<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7 at 2018-09-20 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180920" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Apache Omid &#x2013; What is Omid?</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarEnabled">
          
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container" style="width: 100%;"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Overview">Overview</a>
</li>
                  
                      <li>      <a href="license.html"  title="License">License</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Download <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="https://github.com/apache/incubator-omid"  title="Omid Sources">Omid Sources</a>
</li>
                  
                      <li>      <a href="https://dist.apache.org/repos/dist/release/incubator/omid/"  title="Apache Version Repository">Apache Version Repository</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide & API <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="quickstart.html"  title="Quickstart">Quickstart</a>
</li>
                  
                      <li>      <a href="basic-examples.html"  title="API and Code Examples">API and Code Examples</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Technical Docs <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="basic-concepts.html"  title="Basic Concepts">Basic Concepts</a>
</li>
                  
                      <li>      <a href="omid-components.html"  title="Omid Components">Omid Components</a>
</li>
                  
                      <li>      <a href="basic-algorithm.html"  title="Basic Algorithm">Basic Algorithm</a>
</li>
                  
                      <li>      <a href="client-failure-management.html"  title="Management of Client Failures">Management of Client Failures</a>
</li>
                  
                      <li>      <a href="http://yahoohadoop.tumblr.com/tagged/HBase"  title="Blog Entries">Blog Entries</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="https://git-wip-us.apache.org/repos/asf/incubator-omid.git"  title="Source Code">Source Code</a>
</li>
                  
                      <li>      <a href="https://issues.apache.org/jira/browse/Omid"  title="JIRA">JIRA</a>
</li>
                  
                      <li>      <a href="mailing-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                  
                      <li>      <a href="coding-guide-and-style.html"  title="Coding Guide and Style">Coding Guide and Style</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Reports <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="dependency-convergence.html"  title="Dependency Convergence">Dependency Convergence</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="dependency-management.html"  title="Dependency Management">Dependency Management</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="license.html"  title="Licenses">Licenses</a>
</li>
                                  <li>      <a href="modules.html"  title="Project Modules">Project Modules</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="plugins.html"  title="Plugins">Plugins</a>
</li>
                                  <li>      <a href="team-list.html"  title="Team">Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Code Management">Source Code Management</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Summary">Summary</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="checkstyle-aggregate.html"  title="Checkstyle">Checkstyle</a>
</li>
                                  <li>      <a href="cpd.html"  title="CPD">CPD</a>
</li>
                                  <li>      <a href="pmd.html"  title="PMD">PMD</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
                      <form id="search-form" action="https://www.google.com/search" method="get"  class="navbar-search pull-right" >
    
  <input value="omid.incubator.apache.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://cse.google.com/brand?form=search-form"></script>
          
                                                    
        
        
        <ul class="nav pull-right"><li>
    
    <a href="https://twitter.com/apacheomid" class="twitter-follow-button" data-show-count="true" data-align="right" data-size="large" data-show-screen-name="true" data-lang="en">Follow apacheomid</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </li></ul>
                              
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="./" id="bannerLeft">
                                                                                                <img src="images/omid-logo.png"  alt="Omid" width="200"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://incubator.apache.org/" id="bannerRight">
                                                                                        <img src="http://incubator.apache.org/images/egg-logo2.png"  alt="Apache Incubator" width="200"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="projectVersion">Version: 0.8.2.11-SNAPSHOT
                    </li>
              
              
                  <li id="publishDate" class="pull-right">Last Published: 2018-09-20</li>
            
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <h1>What is Omid?</h1>
<p><b>Apache Omid (Optimistically transaction Management In Datastores)</b> is a flexible, reliable, high performant and scalable transactional framework that allows Big Data applications to execute ACID transactions on top of MVCC key/value NoSQL datastores.</p>
<p>The current implementation provides multi-row transactions on top of Apache HBase, but Omid&#x2019;s design is flexible enough to support other datastore implementations as long as they provide MVCC features in their API.</p>
<p>The following sections introduce the motivation behind Omid and its high-level architecture and basic concepts. If you want to jump to a more hands-on approach to Omid, please jump to the <a href="quickstart.html">Quickstart</a> section. On the other hand, if you want more information about Omid&#x2019;s design and its internals, please refer to the sections in the Technical Documentation menuf.</p>
<h1>Why Omid?</h1>
<p>A <i>transaction</i> comprises a set of data manipulation operations on the state of a database system managed as a single unit of work, so all the operations must either entirely be completed (committed) or have no effect (aborted). In other words, partial executions of the transaction are not permitted (nor desired in general) because the final state of the database can be corrupted.</p>
<p>Without the support for transactions, developers are burdened with ensuring atomic execution of scattered changes in data upon failures as well as when there are concurrent accesses to the same data by multiple clients.</p>
<p>In order to process transactions, database systems provide a specific component called the <i>Transaction Manager</i>. The goal of transaction managers in general is to guarantee the so-called <b>ACID properties</b> of transactions: <i>Atomicity</i>, <i>Consistency</i>, <i>Isolation</i> and <i>Durability</i>. However, ACID properties are hard to scale when databases have to deal with very large amounts of data and thousands of concurrent users, because the data must be partitioned, distributed and replicated. That was the main reason why, with the advent of NoSQL big data stores, transactions were initially left out of the equation. HBase, Dynamo, BigTable, PNUTS, Cassandra, etc. lacked this precious feature initially. However, with the popularization of NoSQL big datastores in many areas of the industry, the need for transactions has become a must for certain applications.</p>
<p>Omid fills this gap and provides lock-free transactional support on top of HBase with snapshot isolation guarantees. Omid enables BigData applications to benefit from the best of both worlds: the scalability provided by NoSQL datastores such as HBase, and the concurrency and atomicity provided by transaction processing systems.</p>
<div class="section">
<h2><a name="Benefits"></a>Benefits</h2>
<p>The benefits that Omid provides include:</p>

<ol style="list-style-type: decimal">
  
<li>Omid allows multi-row/multi-table transactions on top of HBase.</li>
  
<li>Omid is lock-free. In lock-based approaches, the locks on data that are held by the incomplete transactions of a failed client prevent others from progressing. In Omid, if a client is slow or faulty, it does not slow down the other clients.</li>
  
<li>Omid provides <a href="basic-concepts.html#Snapshot_Isolation">Snapshot Isolation</a> (SI) guarantees.</li>
  
<li>Omid does not require any modi&#xfb01;cation into HBase code. All the transactional logic is implemented in the framework components.</li>
  
<li>Omid does not require any change into HBase table schema. Omid uses the HBase metadata -the cell timestamp in particular- to store the transaction timestamp of each value inserted, updated or deleted in a cell. This enables concurrent transactions to read data from the right snapshot.</li>
  
<li>Omid is being used internally at Yahoo in production systems, exhibiting good performance and reliability.</li>
</ol>
<h1>Architecture Overview</h1>
<p>The main architectural components are represented in the figure below and described briefly below in the following paragraphs.</p>
<p><img src="images/architecture.png" alt="Omid&rsquo;s architecture" /></p>
<p>For a detailed picture of the Omid architecture, please refer to the <a href="omid-components.html">Omid Components</a> section in the Technical Documentation.</p></div>
<div class="section">
<h2><a name="Component_Roles"></a>Component Roles</h2>
<p>Omid bene&#xfb01;ts from a centralized scheme in which a single server, called Transactional Status Oracle (TSO), monitors the modi&#xfb01;ed rows/cells by transactions and use that to detect write-write con&#xfb02;icts. </p>
<p>User applications are allowed to begin, commit or abort transactions by means of Transactional Clients (TC), which enable remote communication to the TSO and allow to perform transactional operations on the data stored in the datastore.</p>
<p>When a transaction is created, a unique start timestamp is assigned by the Timestamp Oracle (TO). This start timestamp serves as a transaction identifier and is used by the TSO to guarantee SI by detecting conflicts in the writesset of a committing transaction with other concurrent transactions. Upon, finishing conflict detection successfully, the TSO assigns the transaction a commit timestamp and writes the mapping start/commit timestamp in the Commit Table (CT) before returning the response to the client. When receiving the response. the transactional client, adds a Shadow Cell (SC) per cell in the transaction writeset in order to allow to resolve the right snapshot for further read operations without disturbing the TSO.</p>
<p>The main functionality provided by each component depicted in the figure above can be summarized as follows:</p>

<ul>
  
<li><b>Timestamp Oracle (TO)</b> It assigns the <i>start</i> and <i>commit timestamps</i> that demarcate transactional contexts.</li>
  
<li><b>Transaction Status Oracle (TSO)</b>. Its the central element of the Omid architecture on the server-side. Its main task is to resolve conflicts between concurrent transactions.</li>
  
<li><b>Commit Table (CT)</b> It stores a temporary mapping from the start timestamp to the commit timestamp of every committed transaction.</li>
  
<li><b>Transactional Client (TC)</b> It allows client applications to demarcate transaction boundaries through the so-called <i>Transaction Manager</i> and to perform transactional read/write operations on data through <i>Transactional Tables</i>.</li>
  
<li><b>Shadow Cells (SC)</b> These special metadata cells are written alongside data cells in the data store to allow the transactional clients to resolve read snapshots without consulting the Commit Table. They contain the transactional boundaries of the last transaction in writing to the data cell.</li>
</ul>
<p>For a more in-depth description of how Omid works, please refer to the sections in the Technical Documentation menu.</p>
<p><b>Do you want to try Omid now?</b> Please, go to the <a href="quickstart.html">Quickstart</a> section.</p></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
                      <div class="row">
                                      <p >Copyright &copy;                    2011&#x2013;2018
                        <a href="http://www.apache.org">Apache Software Foundation</a>.
            All rights reserved.    
      </p>
                </div>

                <p id="poweredBy" class="pull-right">
                                                                                                                <a href="http://maven.apache.org/" title="Maven" class="builtBy">
        <img class="builtBy"  alt="Maven" src="http://maven.apache.org/images/logos/maven-feather.png"    />
      </a>
                  </p>
        
                </div>
    </footer>
        </body>
</html>
